import { WebSocket } from "@libsql/isomorphic-ws";
import { Client, protocolVersions } from "./client.js";
import { WebSocketUnsupportedError } from "./errors.js";
export { Client } from "./client.js";
export * from "./errors.js";
export { Batch, BatchStep, BatchCond } from "./batch.js";
export { parseLibsqlUrl } from "./libsql_url.js";
/** @internal */
export * as raw from "./raw.js";
export { Sql } from "./sql.js";
export { Stmt } from "./stmt.js";
export { Stream } from "./stream.js";
/** Open a Hrana client connected to the given `url`. */
export function open(url, jwt) {
    if (typeof WebSocket === "undefined") {
        throw new WebSocketUnsupportedError("WebSockets are not supported in this environment");
    }
    const socket = new WebSocket(url, Array.from(protocolVersions.keys()));
    return new Client(socket, jwt ?? null);
}
